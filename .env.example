# ========================================
# Docker 部署配置说明
# ========================================
# 如果使用 Docker 部署，有两种配置方式：
#
# 方式一：加密配置（推荐）
# 1. 按下面的模板填写配置
# 2. 运行 python encrypt_env.py 加密此文件
# 3. 在 docker-compose.yml 中设置 CONFIG_PASSWORD 环境变量
#
# 方式二：明文配置
# 1. 按下面的模板填写配置
# 2. 在 docker-compose.yml 中挂载 .env 文件
#
# 详细说明请参考：docs/Docker部署指南.md
# ========================================

# Flask服务配置
HOST=0.0.0.0
PORT=5000
DEBUG=False

# 飞书机器人配置（使用官方 lark-oapi SDK）
# 在飞书开放平台（https://open.feishu.cn/）获取以下配置
FEISHU_APP_ID=your_app_id_here
FEISHU_APP_SECRET=your_app_secret_here
# Verification Token 用于验证事件来源
FEISHU_VERIFICATION_TOKEN=your_verification_token_here
# Encrypt Key（可选）用于消息加密，留空则不加密
FEISHU_ENCRYPT_KEY=your_encrypt_key_here

# SMTP邮件配置
# 常用邮箱SMTP服务器：
# - Gmail: smtp.gmail.com (端口587或465)
# - QQ邮箱: smtp.qq.com (端口587或465)
# - 163邮箱: smtp.163.com (端口25或465)
# - 阿里云邮箱: smtp.aliyun.com (端口25或465)

SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_email_password_or_app_password
FROM_EMAIL=your_email@gmail.com
FROM_NAME=飞书消息提醒机器人
USE_TLS=True

# 关键字匹配配置
CASE_SENSITIVE=False
KEYWORDS_CONFIG_FILE=config/keywords.json

# 或者直接使用JSON格式配置关键字（优先级低于配置文件）
# KEYWORDS_JSON=[{"keyword":"紧急","recipients":["urgent@example.com"]},{"keyword":"故障","recipients":["ops@example.com"]}]

# ============================================
# 日报汇总功能配置
# ============================================

# 是否启用日报功能
DAILY_REPORT_ENABLED=True

# 日报群组ID（在飞书群聊中获取）
# 重要：需要将机器人添加到该群组
DAILY_REPORT_CHAT_ID=oc_xxxxxxxxxxxxxx

# 日报发送模式：
# - scheduled: 定时汇总（推荐生产环境）
# - realtime: 实时发送（测试用）
# - manual: 手动触发（发送"汇总日报"命令触发）
DAILY_REPORT_SEND_MODE=scheduled

# 定时汇总时间（24小时制，格式 HH:MM）
# 例如：18:00 表示每天下午6点发送日报汇总
DAILY_REPORT_SCHEDULE_TIME=18:00

# 日报邮件收件人（多个用逗号分隔）
DAILY_REPORT_RECIPIENTS=manager@example.com,team@example.com

# 日报邮件抄送（可选，多个用逗号分隔）
DAILY_REPORT_CC=

# 日报邮件密送（可选，多个用逗号分隔）
DAILY_REPORT_BCC=

# 日报存储文件路径
DAILY_REPORT_STORAGE_FILE=data/daily_reports.json

# ============================================
# 日报提醒功能配置（@未提交日报的人）
# ============================================

# 是否启用日报提醒功能
DAILY_REPORT_REMINDER_ENABLED=True

# 日报提醒时间（24小时制，格式 HH:MM）
# 例如：21:00 表示每天晚上9点检查并提醒未提交日报的人
DAILY_REPORT_REMINDER_TIME=21:00

# ============================================
# 日报即时汇总配置（5人全部提交后立即发送）
# ============================================

# 预期日报人数（当收到的日报数达到此数量时，自动触发汇总）
DAILY_REPORT_EXPECTED_COUNT=5

# 是否在全员提交后自动发送汇总邮件
DAILY_REPORT_AUTO_SEND_ON_COMPLETE=True

# ============================================
# 第二天补充汇总配置
# ============================================

# 是否启用第二天补充汇总（汇总前一天未提交日报的人）
DAILY_REPORT_NEXT_DAY_SUMMARY_ENABLED=True

# 第二天补充汇总时间（24小时制，格式 HH:MM）
# 例如：10:00 表示每天上午10点汇总前一天未提交的人
DAILY_REPORT_NEXT_DAY_SUMMARY_TIME=10:00

# ============================================
# 休假管理配置
# ============================================

# 休假数据存储文件路径
VACATION_STORAGE_FILE=data/vacations.json

# ============================================
# 工作日日历配置
# ============================================

# 节假日API地址
HOLIDAY_API_URL=http://timor.tech/api/holiday/year/{year}

# 节假日缓存文件
HOLIDAY_CACHE_FILE=data/holidays_cache.json

# 节假日本地配置（降级方案）
HOLIDAY_CONFIG_FILE=config/holidays.json

# ============================================
# 命令功能配置
# ============================================

# 是否启用命令功能
COMMAND_ENABLED=True

# 管理员用户ID列表（逗号分隔）
# 注意：替换为实际的飞书用户ID
COMMAND_ADMIN_USERS=
